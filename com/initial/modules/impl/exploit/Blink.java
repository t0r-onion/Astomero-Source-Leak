package com.initial.modules.impl.exploit;

import net.minecraft.network.*;
import com.initial.modules.*;
import java.util.*;
import com.initial.events.impl.*;
import net.minecraft.network.play.client.*;
import com.initial.events.*;

public class Blink extends Module
{
    public static ArrayList<Packet> packets;
    
    public Blink() {
        super("Blink", 0, Category.EXPLOIT);
    }
    
    @Override
    public void onEnable() {
        super.onEnable();
        Blink.packets.clear();
    }
    
    @Override
    public void onDisable() {
        super.onDisable();
        for (final Packet p : Blink.packets) {
            if (this.mc.isSingleplayer()) {
                continue;
            }
            this.mc.getNetHandler().addToSilentQueue(p);
        }
        Blink.packets.clear();
    }
    
    @EventTarget
    public void onSend(final EventSendPacket e) {
        if (e.getPacket() instanceof C02PacketUseEntity || e.getPacket() instanceof C0APacketAnimation || e.getPacket() instanceof C03PacketPlayer || e.getPacket() instanceof C07PacketPlayerDigging || e.getPacket() instanceof C08PacketPlayerBlockPlacement) {
            Blink.packets.add(e.getPacket());
            e.setCancelled(true);
        }
    }
    
    static {
        Blink.packets = new ArrayList<Packet>();
    }
}
